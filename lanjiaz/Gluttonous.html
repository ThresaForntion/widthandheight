<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Gluttonous</title>
	<!-- 贪吃蛇 -->
</head>

<body>
	<!-- 生成一个简单的画布 -->
	<canvas id="can" width="400" height="400" style="background: Black"></canvas>

	<script>
		var sn = [42, 41], dz = 43, fx = 1, n, ctx = document.getElementById("can").getContext("2d");
		function draw(t, c) {
			ctx.fillStyle = c;  //选择填充颜色
			ctx.fillRect(t % 20 * 20 + 1, ~~(t / 20) * 20 + 1, 18, 18);  //填充一个矩型 fillRect(x, y, width, height) ~~表示转换成数字形式
		}
		document.onkeydown = function (e) {
			fx = sn[1] - sn[0] == (n = [-1, -20, 1, 20][(e || event).keyCode - 37] || fx) ? fx : n
		};
		!function () { //！function会立即执行 
			sn.unshift(n = sn[0] + fx);
			if (sn.indexOf(n, 1) > 0 || n < 0 || n > 399 || fx == 1 && n % 20 == 0 || fx == -1 && n % 20 == 19)
				return alert("GAME OVER");
			draw(n, "#d8d8d8");
			if (n == dz) {
				while (sn.indexOf(dz = ~~(Math.random() * 188)) >= 0);
				draw(dz, "Yellow");
			} else
				draw(sn.pop(), "Black");
			setTimeout(arguments.callee, 130);
		}();  
	</script>
</body>

</html>